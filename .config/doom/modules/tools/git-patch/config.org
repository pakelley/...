#+TITLE: Config
* packages
#+begin_src elisp :tangle packages.el
(package! magit-arcanist
  :recipe (:host github :repo "sideshowcoder/magit-arcanist"))
(package! git-link)
#+end_src
* speed up magit for monorepo [0/1]
Various things that speed magit up when working with a monorepo.
#+begin_src elisp
(use-package! magit
  :defer t
  :custom (magit-git-executable "/opt/twitter_mde/bin/git")
  :commands magit-status
  :config
  (remove-hook 'magit-refs-sections-hook 'magit-insert-tags)
  (remove-hook 'magit-status-headers-hook 'magit-insert-tags-header)
  (magit-add-section-hook
   'magit-status-sections-hook
   'magit-insert-unpushed-cherries
   'magit-insert-unpushed-to-upstream-or-recent
   'replace)
  (remove-hook 'magit-status-sections-hook 'magit-insert-unpulled-from-upstream))
#+end_src
Additionally, useful to add the following to your `.git/config`
#+begin_src toml :tangle no
[log]
	decorate = false
[status]
	showUntrackedFiles = no
#+end_src
* magit-arcanist
#+begin_src elisp
(use-package! magit-arcanist
  :defer t
  :after magit
  :ghook ('magit-mode-hook #'magit-arcanist-enable)
  :custom
  (magit-arcanist-key (kbd "#")))
#+end_src
* git link (for quickly getting a sourcegraph link)
| Keybinding        | Description                     |
|-------------------+---------------------------------|
| <leader> g <left> | git link: copy url to clipboard |
#+begin_src emacs-lisp
(use-package! git-link
  :general (:keymaps 'doom-leader-git-map
            "<left>" 'git-link))
#+end_src
And then in your `.git/config`:
#+begin_src toml :tangle no
[remote "sourcegraph"]
	url = https://your.sourcegraph.url/your-repo-name
[git-link]
	remote = sourcegraph
#+end_src
